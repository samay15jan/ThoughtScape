<!DOCTYPE html>
<html>
<head>
  <title>Firebase Authentication Demo</title>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDead-k6wjCzNLi4gVS9VL4whIIxgexNr8",
      authDomain: "thoughtscape.firebaseapp.com",
      databaseURL: "https://thoughtscape-default-rtdb.firebaseio.com",
      projectId: "thoughtscape",
      storageBucket: "thoughtscape.appspot.com",
      messagingSenderId: "446236101890",
      appId: "1:446236101890:web:496f25d21ea3703cf0861b",
      measurementId: "G-VHY3SZK6FN"
    };
    firebase.initializeApp(firebaseConfig);
</script>
</head>
<style>
  .logo{
    width: 100px;
  }
  .css-button-shadow-border--grey {
  min-width: 130px;
  height: 40px;
  color: #fff;
  padding: 5px 10px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  display: inline-block;
  outline: none;
  border-radius: 50px;
  border: none;
  box-shadow:inset 0px 1px 1px 0px rgba(255,255,255,.5), 1px 1px 2px 0px rgba(0,0,0,.1), 1px 1px 1px 0px rgba(0,0,0,.1);
  background: #495057;
}
.css-button-shadow-border--grey:hover {
  background-color: #6c757d;
}
.css-button-shadow-border--grey:active {
  top: 2px;
}

.box{
  background-color: transparent;
    outline: none;
    outline-style: none;
    border-top: none;
    border-left: none;
    border-right: none;
    border-bottom: solid black 1px;
    padding: 3px 10px;
    resize: none;

    font-size: 20px;
  
}
.box:focus {
  outline: none;
}

body{
  margin: 100px;
  background-color:#495057;
}

.container{
  display: flexbox;
  width: 30%;
  padding: 50px;
  background-color:white;
}
</style>
<body><center>
  <div class="container">
  <img class="logo" src="/sources/icon.jpg" alt="">

  <p>Welcome to ThoughtScape</p>
  <form id="login-form">
    <p style="text-align: left;">Email</p> <br>
    <input class="box" type="email" id="login-email"required><br><br>
    Password <br>
    <input class="box" type="password" id="login-password"" required><br>
    <button class="css-button-shadow-border--grey" type="submit">Login</button>
  </form>
</div></center>

  <h2>Register</h2>
  <form id="register-form">
    <input type="email" id="register-email" placeholder="Email" required>
    <input type="password" id="register-password" placeholder="Password" required>
    <button type="submit">Register</button>
  </form>

  Donâ€™t have an account? <a href="/Templates/app.html">Sign Up </a>

  <script>
    // Registration Form Submit Handler
    document.getElementById('register-form').addEventListener('submit', function(event) {
      event.preventDefault();

      var email = document.getElementById('register-email').value;
      var password = document.getElementById('register-password').value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function(userCredential) {
          // Registration successful, email verification sent
          var user = userCredential.user;
          user.sendEmailVerification().then(function() {
            // Email verification sent
            alert('Registration successful. Verification email sent.');
          }).catch(function(error) {
            // An error happened
            console.error(error);
          });
        })
        .catch(function(error) {
          // Registration failed
          console.error(error);
        });
    });

    // Login Form Submit Handler
    document.getElementById('login-form').addEventListener('submit', function(event) {
      event.preventDefault();

      var email = document.getElementById('login-email').value;
      var password = document.getElementById('login-password').value;

      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function(userCredential) {
          // Login successful
          var user = userCredential.user;
          if (user.emailVerified) {
            // Email is verified, proceed to authenticated area
            alert('Login successful.');
          } else {
            // Email is not verified
            alert('Login successful. Please verify your email.');
          }
        })
        .catch(function(error) {
          // Login failed
          console.error(error);
        });
    });
  </script>
</body>
</html>
